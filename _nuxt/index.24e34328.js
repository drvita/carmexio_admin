import p from"./Icon.d28f6baf.js";import{_ as h}from"./_plugin-vue_export-helper.c27b6911.js";import{k as i,l as d,m as a,t as u,B as b,q as f,z as _,n as y,C as m,s as C,_ as w,A as v,F as $}from"./entry.7e45b807.js";import{A as B}from"./apiV1.6105319e.js";import"./config.e10c9340.js";import"./useStorage.6e19b9e8.js";const k={props:{title:{type:String,default:"title"},icon:{type:String,default:"wpf:coins"},number:{type:Number,default:1},iconBg:{type:String,default:"gray-800"},iconColor:{type:String,default:"white"},footer:{type:String}},computed:{classIcon(){return{[`bg-${this.iconBg}`]:!0,[`text-${this.iconColor}`]:this.iconBg==="gray-800"}}}},A={class:"border drop-shadow-md rounded-lg p-2"},D={class:"h-16 px-2 py-3 flex"},S={class:"flex flex-col w-4/6"},N={class:""},I={class:"text-lg"},V={key:0,class:"w-2/6"},z={key:0,class:"text-xs text-gray-400 py-2 px-3"};function E(e,o,t,n,s,c){const r=p;return i(),d("div",A,[a("div",D,[a("div",S,[a("span",N,u(t.title),1),a("span",I,u(t.number),1)]),t.icon?(i(),d("div",V,[a("span",{class:b(["rounded-full border drop-shadow-md px-3 py-2 text-2xl",c.classIcon])},[f(r,{name:t.icon},null,8,["name"])],2)])):_("",!0)]),t.footer?(i(),d("div",z,u(t.footer),1)):_("",!0)])}const L=h(k,[["render",E]]);function q(e){let o,t=e[0],n=1;for(;n<e.length;){const s=e[n],c=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&t==null)return;s==="access"||s==="optionalAccess"?(o=t,t=c(t)):(s==="call"||s==="optionalCall")&&(t=c((...r)=>t.call(o,...r)),o=void 0)}return t}class F extends B{async analytics(){return this.method="GET",this.path="dashboard/analytics",this.params={},new Promise(async(o,t)=>await this.request().then(n=>{if(n.type==="server error"||q([n,"access",s=>s.response,"optionalAccess",s=>s.errors]))return t(n);o(n.response)}))}}const G={data(){return{data:[]}},methods:{handleClick(e){e.url&&(y(e.url),console.log("[DEBUG] Click",e.url))},getData(){new F().analytics().then(o=>{const t=[{icon:"wpf:administrator",title:this.$t("Administrators"),number:o.admins_count,url:"/dashboard/admins"},{icon:"wpf:car-rental",title:this.$t("Cars"),iconBg:"gray-200",number:o.cars_count,url:"/dashboard/cars"}];this.data=t})}},mounted(){this.getData()}},T={class:"px-4 sm:px-6 lg:px-8"},H={class:"sm:flex sm:items-center"},P={class:"sm:flex-auto flex text-blue-800"},U={class:"text-2xl font-semibold leading-6 ml-2"},j={class:"py-10 px-2 grid grid-cols-1 md:grid-cols-3 gap-1 md:gap-4"};function J(e,o,t,n,s,c){const r=p,x=L,g=w;return i(),m(g,null,{default:C(()=>[a("div",T,[a("div",H,[a("div",P,[f(r,{name:"wpf:statistics",size:"1.5rem"}),a("h2",U,u(e.$t("Dashboard")),1)])]),a("div",j,[(i(!0),d($,null,v(s.data,l=>(i(),m(x,{icon:l.icon,title:l.title,number:l.number,"icon-bg":l.iconBg,onClick:K=>c.handleClick(l)},null,8,["icon","title","number","icon-bg","onClick"]))),256))])])]),_:1})}const Y=h(G,[["render",J]]);export{Y as default};
