import{D as c,n as u,C as p,s as f,_ as g,k as l,m as r,t as o,l as y,z as h}from"./entry.454c48d4.js";import{u as _}from"./useToast.25e6c600.js";import{A as k}from"./adminsHlp.b11a3c14.js";import{_ as b}from"./_plugin-vue_export-helper.c27b6911.js";import"./apiV1.3869396f.js";import"./useStorage.12f764f9.js";const x={data(){return{loading:!1}},methods:{handleClick(){const{query:e}=c(),{toast_error:s,toast_success:a}=_();if(!e||!e.email){s(this.$t("Server error"));return}const i=new k;this.loading=!0,i.verifyRequest(e.email).then(t=>{console.log("[Verify] Status: request email verify successfully",t),a(this.$t("Email verified")),setTimeout(()=>u("/"),3500)}).catch(t=>{this.loading=!1,console.error("[Verify] Request email verify error:",t.message),s(this.$t(t.message))})}}},v={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},w={class:"p-6 space-y-4 md:space-y-6 sm:p-8 text-white flex flex-col"},q=["disabled"],C={key:0,class:"text-white text-sm text-right pr-2"};function $(e,s,a,i,t,n){const d=g;return l(),p(d,{name:"login"},{default:f(()=>[r("div",v,[r("div",w,[r("span",null,o(e.$t("Request email verification")),1),r("button",{onClick:s[0]||(s[0]=(...m)=>n.handleClick&&n.handleClick(...m)),disabled:t.loading,class:"w-full text-white bg-primary-500 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:opacity-30 disabled:bg-primary-900"},o(t.loading?e.$t("Sending")+"...":e.$t("Send request")),9,q),t.loading?(l(),y("p",C,o(e.$t("Loading"))+"...",1)):h("",!0)])])]),_:1})}const A=b(x,[["render",$]]);export{A as default};
