import p from"./Icon.a862b72d.js";import{_ as h}from"./_plugin-vue_export-helper.c27b6911.js";import{k as r,l as d,m as a,t as u,B as f,q as x,z as m,n as y,C as _,s as v,_ as w,A as B,F as C}from"./entry.1589adad.js";import{A as $}from"./apiV1.33418ba8.js";import"./config.b6df9195.js";import"./useStorage.eddd386c.js";const k={props:{title:{type:String,default:"title"},icon:{type:String,default:"wpf:coins"},number:{type:Number,default:1},iconBg:{type:String,default:"gray-800"},iconColor:{type:String,default:"white"},footer:{type:String}},computed:{classIcon(){return{[`bg-${this.iconBg}`]:!0,[`text-${this.iconColor}`]:this.iconBg==="gray-800"}}}},A={class:"border drop-shadow-md rounded-lg p-2 cursor-pointer"},S={class:"h-16 px-2 pb-6 pt-2 flex"},D={class:"flex space-x-2 md:flex-col w-4/6"},N={class:"md:text-lg"},I={class:"text-lg md:text-2xl"},V={key:0,class:"w-2/6 text-right"},z={key:0,class:"text-xs text-gray-400 py-2 px-3"};function L(e,s,t,o,n,c){const i=p;return r(),d("div",A,[a("div",S,[a("div",D,[a("span",N,u(t.title),1),a("div",null,[a("span",I,u(t.number),1)])]),t.icon?(r(),d("div",V,[a("span",{class:f(["rounded-full border drop-shadow-md px-3 py-2 text-2xl",c.classIcon])},[x(i,{name:t.icon},null,8,["name"])],2)])):m("",!0)]),t.footer?(r(),d("div",z,u(t.footer),1)):m("",!0)])}const q=h(k,[["render",L]]);function E(e){let s,t=e[0],o=1;for(;o<e.length;){const n=e[o],c=e[o+1];if(o+=2,(n==="optionalAccess"||n==="optionalCall")&&t==null)return;n==="access"||n==="optionalAccess"?(s=t,t=c(t)):(n==="call"||n==="optionalCall")&&(t=c((...i)=>t.call(s,...i)),s=void 0)}return t}class F extends ${async analytics(){return this.method="GET",this.path="dashboard/analytics",this.params={},new Promise(async(s,t)=>await this.request().then(o=>{if(o.type==="server error"||E([o,"access",n=>n.response,"optionalAccess",n=>n.errors]))return t(o);s(o.response)}))}}const T={data(){return{data:[]}},methods:{handleClick(e){e.url&&y(e.url)},getData(){new F().analytics().then(s=>{const t=[{icon:"wpf:administrator",title:this.$t("Administrators"),number:s.admins_count,url:"/dashboard/admins"},{icon:"wpf:car-rental",title:this.$t("Cars"),iconBg:"gray-200",number:s.cars_count,url:"/dashboard/cars"}];this.data=t})}},computed:{classBox(){var s;let e;return((s=this.data)==null?void 0:s.length)>2?e={"md:grid-cols-3":!0}:e={"md:grid-cols-2":!0},e}},mounted(){this.getData()}},G={class:"px-4 sm:px-6 lg:px-8"},H={class:"sm:flex sm:items-center"},P={class:"sm:flex-auto flex text-blue-800"},j={class:"text-2xl font-semibold leading-6 ml-2"};function J(e,s,t,o,n,c){const i=p,g=q,b=w;return r(),_(b,null,{default:v(()=>[a("div",G,[a("div",H,[a("div",P,[x(i,{name:"wpf:statistics",size:"1.5rem"}),a("h2",j,u(e.$t("Dashboard")),1)])]),a("div",{class:f([c.classBox,"py-10 px-2 grid grid-cols-1 gap-1 md:gap-4"])},[(r(!0),d(C,null,B(n.data,l=>(r(),_(g,{icon:l.icon,title:l.title,number:l.number,"icon-bg":l.iconBg,onClick:K=>c.handleClick(l)},null,8,["icon","title","number","icon-bg","onClick"]))),256))],2)])]),_:1})}const X=h(T,[["render",J]]);export{X as default};
