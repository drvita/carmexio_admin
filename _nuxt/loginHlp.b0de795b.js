import{u as i}from"./useStorage.fdfc57c0.js";import{A as n}from"./apiV1.ad2d675e.js";const r=i();class m extends n{async login(t){return!t||typeof t!="object"||!t.email||!t.password?Promise.resolve().then(()=>({})):(this.method="POST",this.path="admins/login",this.body=t,new Promise(async(s,e)=>await this.request().then(o=>{if(o.type==="server error")return e(o);if(!o.response.data.email_validated)return e({...o.response,message:"unverified email"});r.setSession(o.response),s(o.response)})))}async logout(){return this.method="POST",this.path="admins/logout",this.body={},new Promise(async(t,s)=>await this.request().then(e=>{if(e.type==="server error"&&e.message!=="Unauthenticated.")return console.error("[Auth] logout failer in help:",e),s(e);r.deleteSession(),t(e.response)}).catch(e=>s(e)))}}export{m as L};
