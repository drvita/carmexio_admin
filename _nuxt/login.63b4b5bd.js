import{n as u,C as g,s as c,u as f,_ as h,k as w,m as t,t as i,H as d,I as m}from"./entry.2c6d6405.js";import{L as y}from"./loginHlp.0d194bbe.js";import{_ as b}from"./_plugin-vue_export-helper.c27b6911.js";import"./useStorage.bacf4001.js";import"./apiV1.a4325f3d.js";const x={data(){return{email:"",password:"",swal:null}},methods:{async handleLogin(e){e.preventDefault();const o=new y,l={email:this.email,password:this.password};if(!this.validation){console.error("[Login] Validacion fallo");return}o.login(l).then(r=>{if(r.data&&r.token)return console.log("[Login] Login complete"),u("/dashboard")}).catch(r=>{console.error("[Login] login failer:",r),this.swal.fire({position:"top-end",text:this.$t(r.message),showConfirmButton:!1,timer:2500,toast:!0}),this.email="",this.password=""})}},computed:{validation(){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.email)?this.password.length<8?(this.swal.fire({position:"top-end",text:this.$t("Please, type password valid"),showConfirmButton:!1,timer:2500,toast:!0}),!1):!0:(this.swal.fire({position:"top-end",text:this.$t("Please, type e-mail valid"),showConfirmButton:!1,timer:2500,toast:!0}),!1)}},mounted(){const{$swal:e}=f();this.swal=e,console.log("[Login] Mounted form login")}},k={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},_={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},v={class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"},L={for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},$={for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},B={type:"submit",class:"w-full text-white bg-primary-500 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"};function C(e,o,l,r,s,n){const p=h;return w(),g(p,{name:"login"},{default:c(()=>[t("div",k,[t("div",_,[t("h1",v,i(e.$t("Sign in to your account")),1),t("form",{class:"space-y-4 md:space-y-6",action:"#",onSubmit:o[2]||(o[2]=(...a)=>n.handleLogin&&n.handleLogin(...a))},[t("div",null,[t("label",L,i(e.$t("Your email")),1),d(t("input",{type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com","onUpdate:modelValue":o[0]||(o[0]=a=>s.email=a)},null,512),[[m,s.email]])]),t("div",null,[t("label",$,i(e.$t("Password")),1),d(t("input",{type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","onUpdate:modelValue":o[1]||(o[1]=a=>s.password=a)},null,512),[[m,s.password]])]),t("button",B,i(e.$t("Sign in")),1)],32)])])]),_:1})}const E=b(x,[["render",C]]);export{E as default};
